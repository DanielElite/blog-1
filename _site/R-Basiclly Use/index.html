<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" lang="zh-CN">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="author" content="lamour" />
		<title>The Basic Use Of R</title>
		<link rel="shortcut icon" href="/favicon.ico" />
		<link href="/feed/" rel="alternate" title="lamour" type="application/atom+xml" />
		<link rel="stylesheet" href="/media/css/style.css" />
		<link rel="stylesheet" href="/media/css/highlight.css" />
		<script type="text/javascript" src="/media/js/jquery-1.7.1.min.js"></script>
	</head>
	<body>
		<div id="container">
			<div id="main" role="main">
				<header>
				<h1>The Basic Use Of R</h1>
				</header>
				<nav>
				<span><a title="网站首页" class="" href="/">首页</a></span>
				<span><a title="文章分类" class="" href="/categories/">分类</a></span>
				<span><a title="标签索引" class="" href="/tags/">标签</a></span>
				<!--<span><a title="友情链接" class="" href="/links/">链接</a></span>-->
				<span><a title="留言交流" class="" href="/guestbook/">留言</a></span>
                                <!--<span><a title="订阅本站" class="" href="/feed.xml">订阅</a></span>-->
				<span><a title="关于站长" class="" href="/about/">关于</a></span>
				</nav>
				<article class="content">
				<section class="meta">
<span class="time">
  <time datetime="2016-03-27">2016-03-27</time>
</span>

 | 
<span class="categories">
  分类
  
  <a href="/categories/#学习数据挖掘的路上" title="学习数据挖掘的路上">学习数据挖掘的路上</a>&nbsp;
  
</span>


 | 
<span class="tags">
  标签
  
  <a href="/tags/#知识回顾" title="知识回顾">知识回顾</a>&nbsp;
  
</span>

</section>
<section class="post">
<h5>有天想爬下拉勾的数据看看。而恰恰又在阿里买了9块9一个月的服务器(其实不咋样，安装R的一个包时就死机了)，好像不爬下都对不起这个价格。朋友说先直接在网上搜搜看看有没有现成的，结果就看到了别人用R和rvest去抓拉勾的数据。而之前恰恰买过《R语言实用数据分析和可视化技术》，所以今天就重记录一下学的一些R的基本知识，也好缓解缓解天天背单词的蛋疼生活。</h5>

<h1>包的安装加载卸载</h1>

<blockquote><pre><code>install.packages("rvest")           #安装
require(rvest) 或 library(rvest)                    #加载,好像还有一个是用supremessage
detach("package:rvest")           #卸载
</code></pre></blockquote>

<h1>R语言基础</h1>

<ol>
<li>基础之基础

<blockquote><ul>
<li>基本的加减乘除，赋值可以用 &lt;- ，或assign("s",55)    删除变量直接rm(变量名).     判断什么类型：     is.numeric(x)  is.logical(k)</li>
<li>日期  data &lt;- as.Date("2016-03-03")</li>
<li>缺失数据用NA代替</li>
<li>向量什么的可以直接加减乘除</li>
<li>字符数据 t &lt;- "data" 和 t &lt;- factor("data")是不一样的</li>
</ul>
</blockquote></li>
<li><p>数据框</p>

<blockquote><p><img src="../image/R/Rdataframe.png" alt="dataframe" />
对于数据框可以通过</p>

<ul>
<li>ncol(DF), nrow(DF),dim(DF)分别得到列数，行数，和行列数。</li>
<li> names(DF)得到数据框的列名</li>
<li>  names(DF)[1] 得到第一个元素</li>
<li> rownames(DF)查看指定数据框的行名字</li>
<li> head(DF , n = 8) 显示前面多少行的DF，也可以用 tail
<img src="../image/R/Rdataframe2.png" alt="dataframe2" /></li>
</ul>


<p>列表框的每一列都是一个独立的向量，即每一列都有自己的类</p></blockquote></li>
<li><p>列表</p>

<blockquote><ul>
<li>list(1,2,3,4)</li>
<li>list(DF,1:10)</li>
<li>(emptylist &lt;- vector(mode = "list", length =4 ))      用vector创建一个具有一定长度的空列表</li>
</ul>
</blockquote></li>
<li><p>矩阵和数组</p>

<blockquote><ul>
<li>A &lt;- matrix(1:10, nrow = 5)</li>
<li>colname(A), dim(A), ncol(A), nrow(A)</li>
<li>B &lt;- array(1:11, dim = c(2,3,2)</li>
</ul>
</blockquote></li>
</ol>


<h1>导入数据 （还可以直接读网络上的数据）</h1>

<ol>
<li><p>导入CSV(Excel数据要转换成CSV才能导入)</p>

<blockquote><p> url &lt;- "test.csv"  <br/>
  t &lt;- read.table(file = url, header = TRUE, sep = "," )</p></blockquote></li>
<li><p>导入数据库</p>

<blockquote><pre><code> require(RODBC); 
 db &lt;- odbcConnect("mysql_data", uid="root", pwd="123"); 
 sqlTables(channel #查看数据中的表    
 data&lt;-sqlFetch(channel,"kk")
</code></pre></blockquote></li>
<li><p>导入其他数据格式</p>

<blockquote><table>
<thead>
<tr>
<th></th>
<th> R  </th>
<th align="center"> type</th>
<th align="right"> </th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td> read.spss </td>
<td align="center"> SPSS</td>
<td></td>
</tr>
<tr>
<td></td>
<td> read.dta   </td>
<td align="center"> Stata</td>
<td></td>
</tr>
<tr>
<td></td>
<td> read.ssd  </td>
<td align="center"> SAS   </td>
<td></td>
</tr>
<tr>
<td></td>
<td>read.octave</td>
<td align="center">Octave</td>
<td></td>
</tr>
<tr>
<td></td>
<td>read.mtp</td>
<td align="center"> Minitab</td>
<td></td>
</tr>
<tr>
<td></td>
<td>read.systat</td>
<td align="center">Systat</td>
<td></td>
</tr>
</tbody>
</table>
</blockquote></li>
</ol>


<h1>抓取数据</h1>

<ol>
<li><p>XML</p>

<blockquote><p>  require(XML)
  URL &lt;- "http://baidu.com"
  biubiu &lt;- readHTMLTable(URL,which = 1, header = FALSE, stringsAsFactors = FALSE)</p></blockquote></li>
<li><p>rvest</p>

<blockquote><p>  直接来看看这个吧
<a href="http://www.reed.edu/data-at-reed/resources/R/rvest.html">rvest</a></p>

<pre><code>  现在的t &lt;- html(url)已经不用的,转变为 t &lt;- read_html(url)
 主要的东西还是要看Demo和官网的doc
</code></pre></blockquote></li>
</ol>


<h2>后记</h2>

<blockquote><ul>
<li>  想要获得一份好的数据，就要先学爬数据，然而数据的获取方式不止有爬虫，还有通过API来获取，甚至Excel自带的数据导入自网站用起来也不错</li>
<li>一份好的数据同样需要好的可视化技术才能看的出来</li>
<li>想起来《数据之美》里面讲的不要太盲目相信数据，这是对的，就像人类制作超高精度的仪器，超高精度的仪器去制作高精度的，高精度的去制作普通经度的。</li>
<li>数据对我，有很大的吸引力，很想从中一窥究竟。但是现在觉得更多的是通过数据训练出一个模型，然后再去分析。</li>
<li>刚才看了厉哥的《我听过最好的评价》，写的真是很厉害啊，对于我现在这个时常迷茫的人大有帮助，谢谢。</li>
</ul>
</blockquote>

</section>
<section align="right">
<br/>
<span>
	<a  href="/Python-Web-Spider-I/" class="pageNav"  >上一篇</a>
	&nbsp;&nbsp;&nbsp;
	<a   class="pageNavInvalid"  >下一篇</a>
</span>
</section>

	
	<div class="ds-thread" />
		
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"lamour"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = 'http://static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		|| document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>


				</article>
			</div>

			<footer>
			<p><small>
				<a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/cn/" target="_blank" title="许可协议">©</a> 2014 - 2016 <a href="/about/">lamour</a>
			</small></p>
			</footer>

		</div>
	</body>
</html>
